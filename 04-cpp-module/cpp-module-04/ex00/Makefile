# **************************************************************************** #
#                                                                              #
#                                                         :::      ::::::::    #
#    Makefile                                           :+:      :+:    :+:    #
#                                                     +:+ +:+         +:+      #
#    By: sshin <sshin@student.42seoul.kr>           +#+  +:+       +#+         #
#                                                 +#+#+#+#+#+   +#+            #
#    Created: 2022/02/04 20:03:04 by sshin             #+#    #+#              #
#    Updated: 2022/02/24 18:40:38 by sshin            ###   ########.fr        #
#                                                                              #
# **************************************************************************** #

NAME		= a.out
CC			= c++ -std=c++98
CFLAGS		= -Wall -Werror -Wextra
# CFLAGS	+= -g
# CFLAGS	+= -fsanitize=address
RM			= rm -f

# =============================================================================
# Header
# =============================================================================

HDR			= ./

# =============================================================================
# Source
# =============================================================================

SRC_DIR		= ./
SRC_LIST	= main.cpp \
			Animal.cpp        \
			Cat.cpp           \
			Dog.cpp           \
			WrongAnimal.cpp   \
			WrongCat.cpp
SRC			= $(addprefix $(SRC_DIR), $(SRC_LIST))

# =============================================================================
# Object
# =============================================================================

OBJ			= $(SRC:.cpp=.o)

# =============================================================================
# Color
# =============================================================================

RED			= \033[0;31m
GRN			= \033[0;32m
BBLU		= \033[1;34m
CYAN		= \033[0;36m
BRED		= \033[1;31m
BYEL		= \033[1;33m
BLK			= \033[0;30m
EOC			= \033[0;0m

# =============================================================================
# Rule
# =============================================================================

.PHONY		: all
all			: $(NAME)

$(NAME)		: $(OBJ)
	@$(CC) $(CFALGS) -I $(HDR) -o $(NAME) $(OBJ)
	@echo "\n$(NAME): $(GRN)objects were created$(EOC)"
	@echo "$(NAME): $(GRN)$(NAME) was created$(EOC)"

%.o			: %.cpp
	@$(CC) $(CFLAGS) -I $(HDR) -o $@ -c $<
	@echo "$(GRN).$(EOC)\c"

.PHONY		: clean
clean		:
	@$(RM) $(OBJ)
	@echo "$(NAME): $(RED)objects were deleted$(EOC)"

.PHONY		: fclean
fclean		: clean
	@$(RM) $(NAME)
	@echo "$(NAME): $(RED)$(NAME) was deleted$(EOC)"

.PHONY		: re
re			: fclean all

